{"version":3,"sources":["userModel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"models.js","sourcesContent":["myApp.factory('userModel', ['$http', '$cookies', function($http, $cookies){\n\tvar userModel = {};\n\n\tuserModel.doLogin = function(loginData) {\n\t\treturn $http({\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\turl: baseUrl + 'auth',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\temail: loginData.email,\n\t\t\t\tpassword: loginData.password\n\t\t\t}\n\t\t}).success(function(response){\n\t\t\t$cookies.put('auth', JSON.stringify(response));\n\t\t\t\n\t\t\tvar jQ = jQuery.noConflict();\n\t\t\tvar authnav = jQ('.pull-right p a');\n\t\t\tauthnav.each(function(){\n\t\t\t\tif(jQ(this).hasClass('ng-hide')){\n\t\t\t\t\tjQ(this).removeClass('ng-hide');\n\t\t\t\t}else{\n\t\t\t\t\tjQ(this).addClass('ng-hide');\n\t\t\t\t}\n\t\t\t});\n\t\t}).error(function(data, status, headers){\n\t\t\talert('Login error: ' + data);\n\t\t});\n\t};\n\n\tuserModel.getAuthStatus = function(){\n\t\tvar status = $cookies.get('auth');\n\t\tif(status){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\t\n\t\t}\n\t};\n\n\tuserModel.getUserObject = function(){\n\t\tvar userObject = angular.fromJson($cookies.get('auth'));\n\t\treturn userObject;\n\t};\n\n\tuserModel.doUserLogout = function(){\n\t\t$cookies.remove('auth');\n\t};\n\n\treturn userModel;\n}]);"],"sourceRoot":"/source/"}